##########################################

# PAGE - HOME

# TO-DO
#     - Pop-up for vacuum cleaner with functions

###########################################
title: Home
path: home
icon: mdi:home
badges: []
##############################
#### <--- POPUP CARDS ---> ####
##############################
popup_cards:
  media_player.living_room: # Living room media player popup
    title: Apple TV
    card:
      type: vertical-stack
      cards:
        - type: custom:mini-media-player
          entity: media_player.sonos
          more_info: false
          artwork: full-cover-fit
          idle_view:
            when_idle: true
          hide:
            power: true
            name: true
            icon: true
            artwork_border: true
        - type: picture-elements # Activity selection buttons
          image: /local/images/30-empty.png?v2.2
          elements:
            - type: image # WATCH TV BUTTON + STYLE ANCHOR USED FOR ALL BUTTONS
              entity: switch.living_room_tv
              tap_action:
                action: toggle
              image: /local/images/remote/tv.svg?v1
              state_filter:
                "on": invert(.5) sepia(1) saturate(8) hue-rotate(10deg)
              style:
                top: 50%
                left: 20%
                # Reuse these values with <<: *style_anchor_remote in the style section for each button
                <<: &style_anchor_remote
                  width: 2em
                  height: 2em
                  padding: 15px
                  background-color: var(--paper-item-icon-color)
                  border-radius: 50%
                  box-shadow: 0 3px 5px -1px rgba(0,0,0,.2), 0 6px 10px 0 rgba(0,0,0,.14), 0 1px 18px 0 rgba(0,0,0,.12)
            - type: image # WATCH APPLE TV BUTTON
              entity: switch.apple_tv
              tap_action:
                action: toggle
              image: /local/images/remote/apple.svg?v1
              state_filter:
                "on": invert(.5) sepia(1) saturate(8) hue-rotate(10deg)
              style:
                <<: *style_anchor_remote
                top: 50%
                left: 50%
            - type: image # START PS4 BUTTON
              entity: switch.ps4
              tap_action:
                action: toggle
              image: /local/images/remote/playstation.svg?v1
              state_filter:
                "on": invert(.5) sepia(1) saturate(8) hue-rotate(10deg)
              style:
                <<: *style_anchor_remote
                top: 50%
                left: 80%
        - type: picture-elements # Volume control
          image: /local/images/30-empty.png?v2.1
          elements:
            - type: image  # Volume up button
              tap_action:
                action: call-service
                service: remote.send_command
                service_data:
                  entity_id: remote.living_room_hub
                  device: 60032870
                  command: VolumeUp
              image: /local/images/remote/volup.svg?v1
              style:
                <<: *style_anchor_remote
                top: 50%
                left: 80%
            - type: image  # Mute button
              tap_action:
                action: call-service
                service: remote.send_command
                service_data:
                  entity_id: remote.living_room_hub
                  device: 60032870
                  command: Mute
              image: /local/images/remote/mute.svg?v1
              style:
                <<: *style_anchor_remote
                top: 50%
                left: 50%
            - type: image  # Volume down button
              tap_action:
                action: call-service
                service: remote.send_command
                service_data:
                  entity_id: remote.living_room_hub
                  device: 60032870
                  command: VolumeDown
              image: /local/images/remote/voldown.svg?v1
              style:
                <<: *style_anchor_remote
                top: 50%
                left: 20%
        - type: conditional # CONDITIONAL TV remote - appears when the switch.watch_tv in "on"
          conditions:
            - entity: switch.watch_tv
              state: "on"
          card:
            type: picture-elements
            image: /local/images/empty.png?v2.4
            elements:
              - type: image  # Menu button
                tap_action:
                  action: call-service
                  service: remote.send_command
                  service_data:
                    entity_id: remote.living_room_hub
                    device: 60032916
                    command: Guide
                image: /local/images/remote/menu.svg?v1
                style:
                  <<: *style_anchor_remote
                  top: 15%
                  left: 20%
              - type: image  # Back button
                tap_action:
                  action: call-service
                  service: remote.send_command
                  service_data:
                    entity_id: remote.living_room_hub
                    device: 60032916
                    command: Exit
                image: /local/images/image_elements/SVG/back.svg?v1
                style:
                  <<: *style_anchor_remote
                  top: 15%
                  left: 80%
              - type: image  # Up arrow
                tap_action:
                  action: call-service
                  service: remote.send_command
                  service_data:
                    entity_id: remote.living_room_hub
                    device: 60032916
                    command: DirectionUp
                image: /local/images/image_elements/SVG/arrow-up.svg?v1
                style:
                  <<: *style_anchor_remote
                  top: 15%
                  left: 50%
              - type: image  # Left arrow
                tap_action:
                  action: call-service
                  service: remote.send_command
                  service_data:
                    entity_id: remote.living_room_hub
                    device: 60032916
                    command: DirectionLeft
                image: /local/images/image_elements/SVG/arrow-left.svg?v1
                style:
                  <<: *style_anchor_remote
                  top: 40%
                  left: 25%
              - type: image  # OK button
                tap_action:
                  action: call-service
                  service: remote.send_command
                  service_data:
                    entity_id: remote.living_room_hub
                    device: 37579712
                    command: Select
                image: /local/images/image_elements/SVG/play.svg?v1
                style:
                  <<: *style_anchor_remote
                  top: 40%
                  left: 50%
              - type: image  # Right arrow
                tap_action:
                  action: call-service
                  service: remote.send_command
                  service_data:
                    entity_id: remote.living_room_hub
                    device: 60032916
                    command: DirectionRight
                image: /local/images/image_elements/SVG/arrow-right.svg?v1
                style:
                  <<: *style_anchor_remote
                  top: 40%
                  left: 75%
              - type: image  # Down arrow
                tap_action:
                  action: call-service
                  service: remote.send_command
                  service_data:
                    entity_id: remote.living_room_hub
                    device: 60032916
                    command: DirectionDown
                image: /local/images/image_elements/SVG/arrow-down.svg?v1
                style:
                  <<: *style_anchor_remote
                  top: 65%
                  left: 50%
        - type: conditional # CONDITIONAL Apple TV remote
          conditions:
          - entity: switch.apple_tv
            state: "on"
          card:
            type: picture-elements
            image: /local/images/empty.png?v2.4
            elements:
              - type: image  # Menu button
                tap_action:
                  action: call-service
                  service: remote.send_command
                  service_data:
                    entity_id: remote.living_room_hub
                    device: 60132409
                    command: Home
                image: /local/images/image_elements/SVG/burger.svg?v1
                style:
                  <<: *style_anchor_remote
                  top: 15%
                  left: 20%
              - type: image  # Back button
                tap_action:
                  action: call-service
                  service: remote.send_command
                  service_data:
                    entity_id: remote.living_room_hub
                    device: 60132409
                    command: Exit
                image: /local/images/image_elements/SVG/back.svg?v1
                style:
                  <<: *style_anchor_remote
                  top: 15%
                  left: 80%
              - type: image  # Up arrow
                tap_action:
                  action: call-service
                  service: remote.send_command
                  service_data:
                    entity_id: remote.living_room_hub
                    device: 60132409
                    command: DirectionUp
                image: /local/images/image_elements/SVG/arrow-up.svg?v1
                style:
                  <<: *style_anchor_remote
                  top: 15%
                  left: 50%
              - type: image  # Left arrow
                tap_action:
                  action: call-service
                  service: remote.send_command
                  service_data:
                    entity_id: remote.living_room_hub
                    device: 60132409
                    command: DirectionLeft
                image: /local/images/image_elements/SVG/arrow-left.svg?v1
                style:
                  <<: *style_anchor_remote
                  top: 40%
                  left: 25%
              - type: image  # OK button
                tap_action:
                  action: call-service
                  service: remote.send_command
                  service_data:
                    entity_id: remote.living_room_hub
                    device: 60132409
                    command: Select
                image: /local/images/image_elements/SVG/play.svg?v1
                style:
                  <<: *style_anchor_remote
                  top: 40%
                  left: 50%
              - type: image  # Right arrow
                tap_action:
                  action: call-service
                  service: remote.send_command
                  service_data:
                    entity_id: remote.living_room_hub
                    device: 60132409
                    command: DirectionRight
                image: /local/images/image_elements/SVG/arrow-right.svg?v1
                style:
                  <<: *style_anchor_remote
                  top: 40%
                  left: 75%
              - type: image  # Down arrow
                tap_action:
                  action: call-service
                  service: remote.send_command
                  service_data:
                    entity_id: remote.living_room_hub
                    device: 60132409
                    command: DirectionDown
                image: /local/images/image_elements/SVG/arrow-down.svg?v1
                style:
                  <<: *style_anchor_remote
                  top: 65%
                  left: 50%
  light.living_room: # Living room lights popup
    title: Living Room Lights
    card:
      type: entities
      entities:
        - type: custom:slider-entity-row
          entity: light.living_room
          toggle: true
          name: Living room lights
  light.bedroom: # Bedroom lights popup
    title: Bedroom Lights
    card:
      type: entities
      entities:
        - type: custom:slider-entity-row
          entity: light.bedroom
          toggle: true
          name: Bedroom lights
  media_player.sonos: # Sonos media player popup
    title: Sonos
    card:
      type: entities
      entities:
        - type: custom:mini-media-player
          entity: media_player.sonos
          artwork: full-cover-fit
          icon: mdi:speaker
          hide:
            power: true
          shortcuts:
            columns: 3
            buttons:
              - name: Indie
                type: script
                id: script.playlist_indie
  media_player.kitchen: # Kitchen echo media player popup
    title: Kitchen Music
    card:
      type: entities
      entities:
        - type: custom:mini-media-player
          entity: media_player.kitchen
          icon: mdi:speaker
          artwork: full-cover-fit
          shortcuts:
            columns: 3 # Max buttons per row
            buttons:
              # Start predefined playlist
              - name: Relaxing
                type: playlist
                id: spotify:user:
              - name: Classic
                type: playlist
                id: spotify:user:
              - name: Indie
                type: playlist
                id: spotify:user:
  media_player.landing_dot: # Upstairs echo media player popup
    title: Upstairs Music
    card:
      type: entities
      entities:
        - type: custom:mini-media-player
          entity: media_player.landing_dot
          icon: mdi:speaker
          artwork: full-cover-fit
          shortcuts:
            columns: 3 # Max buttons per row
            buttons:
              # Start predefined playlist
              - name: Relaxing
                type: playlist
                id: spotify:user:
              - name: Classic
                type: playlist
                id: spotify:user:
              - name: Indie
                type: playlist
                id: spotify:user:
  alarm_control_panel.ha_alarm: # Alarm popup
    title: Alarm
    card:
      type: vertical-stack
      cards:
        - type: alarm-panel
          entity: alarm_control_panel.ha_alarm
        - type: entities
          entities:
            - entity: binary_sensor.front_door
              name: Front door
              icon: mdi:door
            - entity: binary_sensor.back_door
              name: Back door
              icon: mdi:door
  media_player.fire_tv: # Fire TV remote controls popup
    title: Fire TV Stick
    card:
      type: vertical-stack
      cards:
        - type: picture-elements
          image: /local/images/empty.png?v2.4
          elements:
            - type: image  # Home button
              tap_action:
                action: call-service
                service: remote.send_command
                service_data:
                  entity_id: remote.living_room_hub
                  device: 60553170
                  command: Home
              image: /local/images/image_elements/SVG/burger.svg?v1
              style:
                <<: *style_anchor_remote
                top: 15%
                left: 20%
            - type: image  # Back button
              tap_action:
                action: call-service
                service: remote.send_command
                service_data:
                  entity_id: remote.living_room_hub
                  device: 60553170
                  command: Exit
              image: /local/images/image_elements/SVG/back.svg?v1
              style:
                <<: *style_anchor_remote
                top: 15%
                left: 80%
            - type: image  # Up arrow
              tap_action:
                action: call-service
                service: remote.send_command
                service_data:
                  entity_id: remote.living_room_hub
                  device: 60553170
                  command: DirectionUp
              image: /local/images/image_elements/SVG/arrow-up.svg?v1
              style:
                <<: *style_anchor_remote
                top: 15%
                left: 50%
            - type: image  # Left arrow
              tap_action:
                action: call-service
                service: remote.send_command
                service_data:
                  entity_id: remote.living_room_hub
                  device: 60553170
                  command: DirectionLeft
              image: /local/images/image_elements/SVG/arrow-left.svg?v1
              style:
                <<: *style_anchor_remote
                top: 40%
                left: 25%
            - type: image  # OK button
              tap_action:
                action: call-service
                service: remote.send_command
                service_data:
                  entity_id: remote.living_room_hub
                  device: 60553170
                  command: OK
              image: /local/images/image_elements/SVG/play.svg?v1
              style:
                <<: *style_anchor_remote
                top: 40%
                left: 50%
            - type: image  # Right arrow
              tap_action:
                action: call-service
                service: remote.send_command
                service_data:
                  entity_id: remote.living_room_hub
                  device: 60553170
                  command: DirectionRight
              image: /local/images/image_elements/SVG/arrow-right.svg?v1
              style:
                <<: *style_anchor_remote
                top: 40%
                left: 75%
            - type: image  # Down arrow
              tap_action:
                action: call-service
                service: remote.send_command
                service_data:
                  entity_id: remote.living_room_hub
                  device: 60553170
                  command: DirectionDown
              image: /local/images/image_elements/SVG/arrow-down.svg?v1
              style:
                <<: *style_anchor_remote
                top: 65%
                left: 50%

##############################
#### <--- VIEW CARDS ---> ####
##############################
cards:
  - type: custom:compact-custom-header # Compact header config
    main_config: true
    background_color: rgb(59, 90, 255)
    notifications: show
    options: show
    voice: show
    redirect: false
    exceptions:
      - conditions:
          user_agent: Mobile
        config:
          hide_tabs: 1, 2, 3, 4, 6, 7, 8
          menu: hide
          notifications: hide
          #options: hide
          voice: hide

##>>
## LIVING ROOM PICTURE #######
##<<
  - type: vertical-stack
    cards:
      - type: custom:card-modder # BANNER PICTURE
        style: # STYLE THE PICTURE
          <<: &bannerpicturestyle
            overflow: hidden
            --paper-card-background-color: rgb(90, 106, 114)
            --paper-dialog-background-color: rgb(90, 106, 114)
            --ha-card-box-shadow: none
            border-radius: 10px
            border: 2px solid rgb(55, 62, 68)
            margin-left: 8px
            margin-right: 8px
            box-shadow: 0px 4px 5px 4px rgb(66, 74, 82) #x offset, y offset, blur size, spread size, color
        card:
          type: picture-elements
          image: /local/images/image_elements/living_room_3-1.png
          elements:
            - type: state-label # Living Room Text Button
              entity: input_text.living_room
              style:
                top: 20%
                left: 25%
                <<: &textbuttonstyle
                  font-size: 1.5em
                  font-weight: 600
                  border-bottom: 8px solid rgb(255, 255, 255)
              tap_action:
                action: navigate
                navigation_path: /lovelace/living-room         
            - type: image # TV icon
              image: /local/images/image_elements/SVG/tv.svg
              entity: media_player.living_room
              tap_action:
                action: call-service
                service: script.turn_on
                service_data:
                  entity_id: script.living_room_item_selection_tv
              hold_action:
                action: more-info
              state_filter:
                "paused": opacity(50%)
              style:
                top: 75%
                left: 34%
                <<: &style_anchor_icon
                  
                  width: 1.5em # size of the icon
                  height: 1.5em # size of the icon
                  padding: 6px # how much padding around the icon for the rest of the button
                  background-color: var(--paper-item-icon-color)
                  border-radius: 50%
                  box-shadow: 0 3px 5px -1px rgba(0,0,0,.2), 0 6px 10px 0 rgba(0,0,0,.14), 0 1px 18px 0 rgba(0,0,0,.12)               
            - type: image # Wall lamp icon
              image: /local/images/image_elements/SVG/wall-lamp-dark.svg
              entity: light.living_room
              tap_action:
                action: call-service
                service: script.turn_on
                service_data:
                  entity_id: script.living_room_item_selection_lights
              hold_action:
                action: more-info
              state_filter:
                "on": invert(.5) sepia(1) saturate(8) hue-rotate(10deg) drop-shadow(0px 0px 10px gold)
              style:
                top: 75%
                left: 51%
                <<: *style_anchor_icon
            - type: conditional # Speaker icon if sonos is on TV mode
              conditions:
                - entity: binary_sensor.sonos_playing_tv
                  state: 'on'
              elements:
                - type: image
                  image: /local/images/image_elements/SVG/speaker.svg
                  entity: media_player.sonos
                  tap_action:
                    action: call-service
                    service: script.turn_on
                    service_data:
                      entity_id: script.living_room_item_selection_music
                  hold_action:
                    action: more-info
                  state_image:
                  state_filter:
                    "paused": opacity(50%)
                  style:
                    top: 75%
                    left: 68%
                    <<: *style_anchor_icon
            - type: conditional # Speaker icon if sonos is not on TV mode
              conditions:
                - entity: binary_sensor.sonos_playing_tv
                  state: 'off'
              elements:
                - type: image
                  image: /local/images/image_elements/SVG/speaker.svg
                  entity: media_player.sonos
                  tap_action:
                    action: call-service
                    service: script.turn_on
                    service_data:
                      entity_id: script.living_room_item_selection_music
                  hold_action:
                    action: more-info
                  state_image:
                  state_filter:
                    "paused": opacity(50%)
                    "playing": invert(.5) sepia(1) saturate(8) hue-rotate(10deg)
                  style:
                    top: 75%
                    left: 68%
                    <<: *style_anchor_icon
            - type: image # Vacuum Icon
              image: /local/images/image_elements/SVG/vacuum-cleaner.svg
              entity: vacuum.deebot
              tap_action:
                action: toggle
              hold_action:
                action: more-info
              state_filter:
                "on": invert(.5) sepia(1) saturate(8) hue-rotate(10deg)
              style:
                top: 75%
                left: 85%
                <<: *style_anchor_icon

      #  LIVING ROOM DROP DOWN
      - type: conditional # Media controls
        conditions:
          - entity: input_select.living_room_item_selection
            state: TV
        card:             
          type: vertical-stack
          cards:
            - type: conditional # TV Media Player Display
              conditions: 
                - entity: binary_sensor.sonos_playing_tv
                  state: "on"
              card:
                type: custom:card-modder
                style:
                  border-radius: 20px
                  --ha-card-border-radius: 20px
                  border: 2px solid rgb(55, 62, 68)
                  margin-left: 4px
                  margin-right: 4px
                  box-shadow: 0px 4px 5px 4px rgb(66, 74, 82) #x offset, y offset, blur size, spread size, color
                card:
                  type: custom:mini-media-player
                  entity: media_player.living_room
                  #more_info: false
                  icon: mdi:television
                  artwork: cover
                  source: full
                  # hide:
                  #   power: true
                  #   volume: true
                  #   controls: true
            # - type: conditional # SONOS Media Player Display
            #   conditions:
            #     - entity: binary_sensor.sonos_playing_tv
            #       state: "off"
            #   card:
            #     type: custom:mini-media-player
            #     entity: media_player.sonos
            #     more_info: false
            #     icon: mdi:music
            #     artwork: cover
            #     source: full
            #     hide:
            #       power: true
            #       name: true
            #       icon: true
            #       artwork_border: true
            - type: picture-elements # Activity selection buttons
              image: /local/images/70-empty.png?v2.2
              elements:
              # ACTIVITY CONTROLS  
                - type: image # POWER OFF
                  entity: switch.apple_tv
                  tap_action:
                    action: call-service
                    service: script.turn_on
                    service_data:
                      entity_id: script.power_tv_off
                  image: /local/images/remote/power.svg?v1
                  state_filter:
                    "on": invert(.5) sepia(1) saturate(8) hue-rotate(10deg)
                  style:
                    # Reuse these values with <<: *style_anchor_remote_dropdown in the style section for each button
                    <<: &style_anchor_remote_dropdown
                      width: 1.5em
                      height: 1.5em
                      padding: 10px
                      background-color: var(--paper-item-icon-color)
                      border-radius: 50%
                      box-shadow: 0 3px 5px -1px rgba(0,0,0,.2), 0 6px 10px 0 rgba(0,0,0,.14), 0 1px 18px 0 rgba(0,0,0,.12)
                    top: 15%
                    left: 10%
                - type: image # WATCH TV BUTTON + STYLE ANCHOR USED FOR ALL BUTTONS
                  entity: switch.living_room_tv
                  tap_action:
                    action: toggle
                  image: /local/images/remote/tv.svg?v1
                  state_filter:
                    "on": invert(.5) sepia(1) saturate(8) hue-rotate(10deg)
                  style:
                    top: 15%
                    left: 30%
                    <<: *style_anchor_remote_dropdown
                - type: image # WATCH APPLE TV BUTTON
                  entity: switch.apple_tv
                  tap_action:
                    action: toggle
                  image: /local/images/remote/apple.svg?v1
                  state_filter:
                    "on": invert(.5) sepia(1) saturate(8) hue-rotate(10deg)
                  style:
                    <<: *style_anchor_remote_dropdown
                    top: 15%
                    left: 50%
                - type: image # PLAY MUSIC
                  tap_action:
                    action: call-service
                    service: input_select.select_option
                    service_data:
                      entity_id: input_select.living_room_item_selection
                      option: Music
                  image: /local/images/remote/music.svg?v1
                  state_filter:
                    "on": invert(.5) sepia(1) saturate(8) hue-rotate(10deg)
                  style:
                    <<: *style_anchor_remote_dropdown
                    top: 15%
                    left: 70%    
                - type: image # START PS4 BUTTON
                  entity: switch.ps4
                  tap_action:
                    action: toggle
                  image: /local/images/remote/playstation.svg?v1
                  state_filter:
                    "on": invert(.5) sepia(1) saturate(8) hue-rotate(10deg)
                  style:
                    <<: *style_anchor_remote_dropdown
                    top: 15%
                    left: 90%
                
              # APP CONTROLS  
                - type: image # START PLEX
                  entity: script.watch_plex
                  tap_action:
                    action: call-service
                    service: remote.send_command
                    service_data:
                      entity_id: remote.living_room_hub
                      device: 60132409
                      command:
                        - Home
                        - DirectionRight
                        - DirectionRight
                        - DirectionRight
                        - DirectionRight
                        - Menu
                        - DirectionRight
                        - Select
                  image: /local/images/remote/plex2.svg?v1
                  style:
                    width: 1.5em
                    height: 1.5em
                    padding: 10px
                    background-color: var(--paper-item-icon-color)
                    border-radius: 50%
                    box-shadow: 0 3px 5px -1px rgba(0,0,0,.2), 0 6px 10px 0 rgba(0,0,0,.14), 0 1px 18px 0 rgba(0,0,0,.12)
                    top: 45%
                    left: 20%
                - type: image # START NETFLIX
                  entity: script.watch_netflix
                  tap_action:
                    action: call-service
                    service: remote.send_command
                    service_data:
                      entity_id: remote.living_room_hub
                      device: 60132409
                      command:
                        - Home
                        - DirectionRight
                        - DirectionRight
                        - DirectionRight
                        - DirectionRight
                        - Menu
                        - Select
                  image: /local/images/remote/netflix.svg?v1
                  style:
                    width: 1.5em
                    height: 1.5em
                    padding: 10px
                    background-color: var(--paper-item-icon-color)
                    border-radius: 50%
                    box-shadow: 0 3px 5px -1px rgba(0,0,0,.2), 0 6px 10px 0 rgba(0,0,0,.14), 0 1px 18px 0 rgba(0,0,0,.12)
                    top: 45%
                    left: 40%
                - type: image # START PRIME
                  tap_action:
                    action: call-service
                    service: remote.send_command
                    service_data:
                      entity_id: remote.living_room_hub
                      device: 60132409
                      command:
                        - Home
                        - DirectionRight
                        - DirectionRight
                        - DirectionRight
                        - DirectionRight
                        - Menu
                        - DirectionRight
                        - DirectionRight
                        - DirectionRight
                        - Select
                  image: /local/images/remote/amazon.svg?v1
                  style:
                    width: 1.5em
                    height: 1.5em
                    padding: 10px
                    background-color: var(--paper-item-icon-color)
                    border-radius: 50%
                    box-shadow: 0 3px 5px -1px rgba(0,0,0,.2), 0 6px 10px 0 rgba(0,0,0,.14), 0 1px 18px 0 rgba(0,0,0,.12)
                    top: 45%
                    left: 60%
                - type: image # START YOUTUBE
                  tap_action:
                    action: call-service
                    service: remote.send_command
                    service_data:
                      entity_id: remote.living_room_hub
                      device: 60132409
                      command:
                        - Home
                        - DirectionRight
                        - DirectionRight
                        - DirectionRight
                        - DirectionRight
                        - Menu
                        - DirectionRight
                        - DirectionRight
                        - DirectionRight
                        - DirectionRight
                        - DirectionRight
                        - Select
                  image: /local/images/remote/youtube.svg?v1
                  style:
                    width: 1.5em
                    height: 1.5em
                    padding: 10px
                    background-color: var(--paper-item-icon-color)
                    border-radius: 50%
                    box-shadow: 0 3px 5px -1px rgba(0,0,0,.2), 0 6px 10px 0 rgba(0,0,0,.14), 0 1px 18px 0 rgba(0,0,0,.12)
                    top: 45%
                    left: 80%                                                          
                
              # VOLUME CONTROLS  
                - type: image  # Volume up button
                  tap_action:
                    action: call-service
                    service: remote.send_command
                    service_data:
                      entity_id: remote.living_room_hub
                      device: 60032870
                      command: VolumeUp
                  image: /local/images/remote/volup.svg?v1
                  style:
                    <<: *style_anchor_remote_dropdown
                    top: 75%
                    left: 70%
                - type: image  # Mute button
                  tap_action:
                    action: call-service
                    service: remote.send_command
                    service_data:
                      entity_id: remote.living_room_hub
                      device: 60032870
                      command: Mute
                  image: /local/images/remote/mute.svg?v1
                  style:
                    <<: *style_anchor_remote_dropdown
                    top: 75%
                    left: 50%
                - type: image  # Volume down button
                  tap_action:
                    action: call-service
                    service: remote.send_command
                    service_data:
                      entity_id: remote.living_room_hub
                      device: 60032870
                      command: VolumeDown
                  image: /local/images/remote/voldown.svg?v1
                  style:
                    <<: *style_anchor_remote_dropdown
                    top: 75%
                    left: 30%    
            - type: conditional # CONDITIONAL TV remote - appears when the switch.watch_tv in "on"
              conditions:
                - entity: switch.watch_tv
                  state: "on"
              card:
                type: picture-elements
                image: /local/images/empty.png?v2.4
                elements:
                  - type: image  # Menu button
                    tap_action:
                      action: call-service
                      service: remote.send_command
                      service_data:
                        entity_id: remote.living_room_hub
                        device: 60032916
                        command: Guide
                    image: /local/images/remote/menu.svg?v1
                    style:
                      <<: *style_anchor_remote_dropdown
                      top: 8%
                      left: 20%
                  - type: image  # Back button
                    tap_action:
                      action: call-service
                      service: remote.send_command
                      service_data:
                        entity_id: remote.living_room_hub
                        device: 60032916
                        command: Exit
                    image: /local/images/image_elements/SVG/back.svg?v1
                    style:
                      <<: *style_anchor_remote_dropdown
                      top: 8%
                      left: 80%
                  - type: image  # Up arrow
                    tap_action:
                      action: call-service
                      service: remote.send_command
                      service_data:
                        entity_id: remote.living_room_hub
                        device: 60032916
                        command: DirectionUp
                    image: /local/images/image_elements/SVG/arrow-up.svg?v1
                    style:
                      <<: *style_anchor_remote_dropdown
                      top: 8%
                      left: 50%
                  - type: image  # Left arrow
                    tap_action:
                      action: call-service
                      service: remote.send_command
                      service_data:
                        entity_id: remote.living_room_hub
                        device: 60032916
                        command: DirectionLeft
                    image: /local/images/image_elements/SVG/arrow-left.svg?v1
                    style:
                      <<: *style_anchor_remote_dropdown
                      top: 28%
                      left: 25%
                  - type: image  # OK button
                    tap_action:
                      action: call-service
                      service: remote.send_command
                      service_data:
                        entity_id: remote.living_room_hub
                        device: 37579712
                        command: Select
                    image: /local/images/image_elements/SVG/play.svg?v1
                    style:
                      <<: *style_anchor_remote_dropdown
                      top: 28%
                      left: 50%
                  - type: image  # Right arrow
                    tap_action:
                      action: call-service
                      service: remote.send_command
                      service_data:
                        entity_id: remote.living_room_hub
                        device: 60032916
                        command: DirectionRight
                    image: /local/images/image_elements/SVG/arrow-right.svg?v1
                    style:
                      <<: *style_anchor_remote_dropdown
                      top: 28%
                      left: 75%
                  - type: image  # Down arrow
                    tap_action:
                      action: call-service
                      service: remote.send_command
                      service_data:
                        entity_id: remote.living_room_hub
                        device: 60032916
                        command: DirectionDown
                    image: /local/images/image_elements/SVG/arrow-down.svg?v1
                    style:
                      <<: *style_anchor_remote_dropdown
                      top: 48%
                      left: 50%
            - type: conditional # CONDITIONAL Apple TV remote
              conditions:
              - entity: switch.apple_tv
                state: "on"
              card:
                type: picture-elements
                image: /local/images/empty.png?v2.4
                elements:
                  - type: image  # Menu button
                    tap_action:
                      action: call-service
                      service: remote.send_command
                      service_data:
                        entity_id: remote.living_room_hub
                        device: 60132409
                        command: Home
                    image: /local/images/image_elements/SVG/burger.svg?v1
                    style:
                      <<: *style_anchor_remote_dropdown
                      top: 8%
                      left: 20%
                  - type: image  # Back button
                    tap_action:
                      action: call-service
                      service: remote.send_command
                      service_data:
                        entity_id: remote.living_room_hub
                        device: 60132409
                        command: Back
                    image: /local/images/image_elements/SVG/back.svg?v1
                    style:
                      <<: *style_anchor_remote_dropdown
                      top: 8%
                      left: 80%
                  - type: image  # Up arrow
                    tap_action:
                      action: call-service
                      service: remote.send_command
                      service_data:
                        entity_id: remote.living_room_hub
                        device: 60132409
                        command: DirectionUp
                    image: /local/images/image_elements/SVG/arrow-up.svg?v1
                    style:
                      <<: *style_anchor_remote_dropdown
                      top: 8%
                      left: 50%
                  - type: image  # Left arrow
                    tap_action:
                      action: call-service
                      service: remote.send_command
                      service_data:
                        entity_id: remote.living_room_hub
                        device: 60132409
                        command: DirectionLeft
                    image: /local/images/image_elements/SVG/arrow-left.svg?v1
                    style:
                      <<: *style_anchor_remote_dropdown
                      top: 28%
                      left: 25%
                  - type: image  # OK button
                    tap_action:
                      action: call-service
                      service: remote.send_command
                      service_data:
                        entity_id: remote.living_room_hub
                        device: 60132409
                        command: Select
                    image: /local/images/image_elements/SVG/play.svg?v1
                    style:
                      <<: *style_anchor_remote_dropdown
                      top: 28%
                      left: 50%
                  - type: image  # Right arrow
                    tap_action:
                      action: call-service
                      service: remote.send_command
                      service_data:
                        entity_id: remote.living_room_hub
                        device: 60132409
                        command: DirectionRight
                    image: /local/images/image_elements/SVG/arrow-right.svg?v1
                    style:
                      <<: *style_anchor_remote_dropdown
                      top: 28%
                      left: 75%
                  - type: image  # Down arrow
                    tap_action:
                      action: call-service
                      service: remote.send_command
                      service_data:
                        entity_id: remote.living_room_hub
                        device: 60132409
                        command: DirectionDown
                    image: /local/images/image_elements/SVG/arrow-down.svg?v1
                    style:
                      <<: *style_anchor_remote_dropdown
                      top: 48%
                      left: 50%
            # - type: conditional # CONDITIONAL Music controls
            #   conditions:
            #     - entity: binary_sensor.sonos_playing_tv
            #       state: "off"
            #   card:
            #     type: picture-elements
            #     image: /local/images/medium-empty.png?v2.4
            #     elements:
            #       - type: image  # Menu button
            #         tap_action:
            #           action: call-service
            #           service: remote.send_command
            #           service_data:
            #             entity_id: remote.living_room_hub
            #             device: 60032870 # SONOS
            #             command: SkipBack
            #         image: /local/images/image_elements/SVG/arrow-left.svg?v1
            #         style:
            #           <<: *style_anchor_remote_dropdown
            #           top: 15%
            #           left: 20%
      - type: conditional # Music control
        conditions:
          - entity: input_select.living_room_item_selection
            state: Music
        card:
          type: entities
          entities:
            - type: custom:card-modder
              style:
                border-radius: 20px
                --ha-card-border-radius: 20px
                border: 2px solid rgb(55, 62, 68)
                margin-left: 4px
                margin-right: 4px
                box-shadow: 0px 4px 5px 4px rgb(66, 74, 82) #x offset, y offset, blur size, spread size, color
              card:
                type: custom:mini-media-player
                entity: media_player.sonos
                artwork: cover
                icon: mdi:speaker
                hide:
                  power: true
                shortcuts:
                  columns: 2
                  buttons:
                    - name: Casual
                      type: script
                      id: script.playlist_sonos_casual
                    - name: Calm
                      type: script
                      id: script.playlist_sonos_calm
                    - name: Morning Music
                      type: script
                      id: script.playlist_sonos_morning
                    - name: Discover Weekly
                      type: script
                      id: script.playlist_sonos_discover_weekly                                                                
      - type: conditional # Lights control
        conditions:
          - entity: input_select.living_room_item_selection
            state: Lights
        card:
            type: entities
            entities:
              - type: custom:slider-entity-row
                entity: light.living_room
                toggle: true
                name: Living room lights
              - type: entity
                entity: switch.lamp
                icon: mdi:floor-lamp

##>>
## KITCHEN PICTURE ###########
##<<
  - type: vertical-stack
    cards:
      - type: custom:card-modder # card modder is needed to remove the ha-card-box-shadow that forms around the 'veritcal-stack-in-card' box
        style:
          --ha-card-box-shadow: rgb(90, 106, 114)
        card:
          type: custom:vertical-stack-in-card # Actual cards
          cards:
            - type: custom:card-modder
              style:           
                <<: *bannerpicturestyle
              card:
                type: picture-elements
                image: /local/images/image_elements/kitchen-1.png
                elements:
                  - type: state-label # Kitchen Text Button
                    entity: input_text.kitchen
                    tap_action:
                      action: navigate
                      navigation_path: /lovelace/kitchen
                    style:
                      top: 20%
                      left: 20%                
                      <<: *textbuttonstyle
                  - type: image # Kitchen speaker button
                    image: /local/images/image_elements/SVG/speaker.svg
                    entity: media_player.kitchen
                    tap_action:
                      action: call-service
                      service: script.turn_on
                      service_data:
                        entity_id: script.kitchen_item_selection_music
                    hold_action:
                      action: more-info
                    state_image:
                    state_filter:
                      "paused": opacity(50%)
                      "playing": invert(.5) sepia(1) saturate(8) hue-rotate(10deg)
                    style:
                      top: 75%
                      left: 85%
                      <<: *style_anchor_icon

          #  KITCHEN DROP DOWN    
            - type: conditional
              conditions:
                - entity: input_select.kitchen_item_selection
                  state: Music
              card:
                type: entities
                entities:
                    - type: custom:card-modder
                      style:
                        border-radius: 20px
                        --ha-card-border-radius: 20px
                        border: 2px solid rgb(55, 62, 68)
                        margin-left: 4px
                        margin-right: 4px
                        box-shadow: 0px 4px 5px 4px rgb(66, 74, 82) #x offset, y offset, blur size, spread size, color
                      card:
                        type: custom:mini-media-player
                        entity: media_player.spotify
                        more_info: false
                        icon: mdi:music
                        artwork: cover
                        source: full
                        shortcuts:
                          columns: 3 # Max buttons per row
                          buttons:
                            # Start predefined playlist
                            - name: Relaxing
                              type: playlist
                              id: spotify:user:
                            - name: Indie
                              type: playlist
                              id: spotify:user:
                            - name: Casual Tunes
                              type: playlist
                              id: spotify:user:
                            - name: Calm
                              type: playlist
                              id: spotify:user:
                            - name: Lo-Fi
                              type: playlist
                              id: spotify:user:
                            - name: Discover Weekly
                              type: playlist
                              id: spotify:user:spotify:playlist:                     
                            - name: Shuffle
                              type: script
                              id: script.shuffle_spotify

##>>
## BEDROOM PICTURE ###########
##<<
  - type: vertical-stack
    cards:
      - type: custom:card-modder # card modder is needed to remove the ha-card-box-shadow that forms around the 'veritcal-stack-in-card' box
        style:
          --ha-card-box-shadow: rgb(90, 106, 114)
        card:
          type: custom:vertical-stack-in-card # BEDROOM
          cards:
            - type: custom:card-modder
              style:
                <<: *bannerpicturestyle    
              card:
                type: picture-elements
                image: /local/images/image_elements/bedroom-1.png
                elements:
                  - type: state-label # Bedroom Text Button
                    entity: input_text.bedroom
                    tap_action:
                      action: navigate
                      navigation_path: /lovelace/bedroom
                    style:
                      top: 20%
                      left: 20%                
                      <<: *textbuttonstyle   
                  - type: image # TV icon
                    image: /local/images/image_elements/SVG/tv.svg
                    entity: media_player.fire_tv
                    tap_action:
                      action: call-service
                      service: script.turn_on
                      service_data:
                        entity_id: script.bedroom_item_selection_tv
                    hold_action:
                      action: more-info
                    state_filter:
                      "paused": opacity(50%)
                    style:
                      top: 75%
                      left: 34%
                      <<: *style_anchor_icon
                  - type: image # lightbulb icon
                    image: /local/images/image_elements/SVG/lightbulb7.svg
                    entity: light.bedroom
                    tap_action:
                      action: toggle
                    hold_action:
                      action: more-info
                    state_filter:
                      "on": invert(.5) sepia(1) saturate(8) hue-rotate(10deg)
                    style:
                      top: 75%
                      left: 51%
                      <<: *style_anchor_icon
                  - type: image # speaker icon
                    image: /local/images/image_elements/SVG/speaker.svg
                    entity: media_player.landing_dot
                    tap_action:
                          action: call-service
                          service: script.turn_on
                          service_data:
                            entity_id: script.bedroom_item_selection_music
                    hold_action:
                      action: more-info
                    state_filter:
                      "paused": opacity(50%)
                      "playing": invert(.5) sepia(1) saturate(8) hue-rotate(10deg)
                    style:
                      top: 75%
                      left: 68%
                      <<: *style_anchor_icon
                  - type: image # bed icon
                    image: /local/images/image_elements/SVG/bed.svg
                    entity: script.bedtime
                    tap_action:
                          action: call-service
                          service: script.turn_on
                          service_data:
                            entity_id: script.bedtime
                    style:
                      top: 75%
                      left: 85%
                      <<: *style_anchor_icon                  
          #  BEDROOM DROP DOWN    
            - type: conditional
              conditions:
                - entity: input_select.bedroom_item_selection
                  state: TV
              card:
                type: vertical-stack
                cards:
                  - type: media-control
                    entity: media_player.luke_s_fire_tv_stick
                  - type: picture-elements
                    image: /local/images/empty.png?v2.4
                    elements:
                      - type: image  # Home button
                        tap_action:
                          action: call-service
                          service: remote.send_command
                          service_data:
                            entity_id: remote.living_room_hub
                            device: 60553170
                            command: Home
                        image: /local/images/image_elements/SVG/burger.svg?v1
                        style:
                          <<: *style_anchor_remote
                          top: 15%
                          left: 20%
                      - type: image  # Back button
                        tap_action:
                          action: call-service
                          service: remote.send_command
                          service_data:
                            entity_id: remote.living_room_hub
                            device: 60553170
                            command: Exit
                        image: /local/images/image_elements/SVG/back.svg?v1
                        style:
                          <<: *style_anchor_remote
                          top: 15%
                          left: 80%
                      - type: image  # Up arrow
                        tap_action:
                          action: call-service
                          service: remote.send_command
                          service_data:
                            entity_id: remote.living_room_hub
                            device: 60553170
                            command: DirectionUp
                        image: /local/images/image_elements/SVG/arrow-up.svg?v1
                        style:
                          <<: *style_anchor_remote
                          top: 15%
                          left: 50%
                      - type: image  # Left arrow
                        tap_action:
                          action: call-service
                          service: remote.send_command
                          service_data:
                            entity_id: remote.living_room_hub
                            device: 60553170
                            command: DirectionLeft
                        image: /local/images/image_elements/SVG/arrow-left.svg?v1
                        style:
                          <<: *style_anchor_remote
                          top: 40%
                          left: 25%
                      - type: image  # OK button
                        tap_action:
                          action: call-service
                          service: remote.send_command
                          service_data:
                            entity_id: remote.living_room_hub
                            device: 60553170
                            command: OK
                        image: /local/images/image_elements/SVG/play.svg?v1
                        style:
                          <<: *style_anchor_remote
                          top: 40%
                          left: 50%
                      - type: image  # Right arrow
                        tap_action:
                          action: call-service
                          service: remote.send_command
                          service_data:
                            entity_id: remote.living_room_hub
                            device: 60553170
                            command: DirectionRight
                        image: /local/images/image_elements/SVG/arrow-right.svg?v1
                        style:
                          <<: *style_anchor_remote
                          top: 40%
                          left: 75%
                      - type: image  # Down arrow
                        tap_action:
                          action: call-service
                          service: remote.send_command
                          service_data:
                            entity_id: remote.living_room_hub
                            device: 60553170
                            command: DirectionDown
                        image: /local/images/image_elements/SVG/arrow-down.svg?v1
                        style:
                          <<: *style_anchor_remote
                          top: 65%
                          left: 50%   
            - type: conditional
              conditions:
                - entity: input_select.bedroom_item_selection
                  state: Music
              card:
                type: entities
                entities:
                  - type: custom:card-modder
                    style:
                      border-radius: 20px
                      --ha-card-border-radius: 20px
                      border: 2px solid rgb(55, 62, 68)
                      margin-left: 4px
                      margin-right: 4px
                      box-shadow: 0px 4px 5px 4px rgb(66, 74, 82) #x offset, y offset, blur size, spread size, color
                    card:
                      type: custom:mini-media-player
                      entity: media_player.spotify
                      more_info: false
                      icon: mdi:music
                      artwork: cover
                      source: full
                      shortcuts:
                        columns: 3
                        buttons:
                          - name: Relaxing
                            type: playlist
                            id: spotify:user:
                          - name: Indie
                            type: playlist
                            id: spotify:user:
                          - name: Casual Tunes
                            type: playlist
                            id: spotify:user:
                          - name: Calm
                            type: playlist
                            id: spotify:user:
                          - name: Rain
                            type: playlist
                            id: spotify:user:
                          - name: Shuffle
                            type: script
                            id: script.shuffle_spotify        

##>>              
## HOME PICTURE ##############
##<<
  - type: vertical-stack
    cards:
      - type: custom:card-modder # card modder is needed to remove the ha-card-box-shadow that forms around the 'veritcal-stack-in-card' box
        style:
          --ha-card-box-shadow: rgb(90, 106, 114)
        card:
          type: custom:vertical-stack-in-card # Actual cards
          cards:
            - type: custom:card-modder
              style:
                <<: *bannerpicturestyle
              card:  
                type: picture-elements
                image: /local/images/image_elements/home_2-1.png
                elements:
                  - type: state-label # Home Text Button
                    entity: input_text.home
                    tap_action:
                      action: navigate
                      navigation_path: /lovelace/backend
                    style:
                      top: 20%
                      left: 15%
                      <<: *textbuttonstyle 
                  - type: image
                    image: /local/images/image_elements/SVG/sign-out.svg
                    tap_action:
                      action: call-service
                      service: script.turn_on
                      service_data:
                        entity_id: script.leaving_home
                    style:
                      top: 75%
                      left: 68%
                      <<: *style_anchor_icon

                  - type: image
                    image: /local/images/image_elements/SVG/alarm-clear-slash.svg
                    entity: alarm_control_panel.ha_alarm
                    tap_action:
                      action: navigate
                      navigation_path: /lovelace/alarm
                    hold_action:
                      action: more-info
                    state_image:
                      "armed_home": /local/images/image_elements/SVG/alarm-clear.svg
                      "armed_away": /local/images/image_elements/SVG/alarm-clear.svg
                    state_filter:
                      "disarmed": drop-shadow(0px 0px 10px 10px red)
                      "armed_home": invert(.5) sepia(1) saturate(8) hue-rotate(10deg) drop-shadow(0px 0px 10px green)
                      "armed_away": invert(.5) sepia(1) saturate(8) hue-rotate(10deg) drop-shadow(0px 0px 10px green)
                    style:
                      top: 75%
                      left: 85%
                      <<: *style_anchor_icon
